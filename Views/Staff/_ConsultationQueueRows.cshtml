@model IEnumerable<LMDH_QS.Models.Queue>

@foreach (var item in Model)
{
    <tr id="row-@item.PatientIdentification"
        data-id="@item.Id"
        data-visitdate="@item.VisitDate.ToString("yyyy-MM-ddTHH:mm:ss")"
        data-department="@item.Department"
        class="@(item.Status == "Consultation Serving" ? "bg-warning bg-opacity-50 text-dark"
                : item.Status == "Consultation Standby" ? "bg-success bg-opacity-50 text-dark"
                : item.Status == "Skipped" ? "bg-danger bg-opacity-50 text-dark"
                : item.Status == "Done" ? "bg-info bg-opacity-50 text-dark"
                : "")">

        <td>@item.Department</td>
        <td>@item.VisitTime.ToString(@"hh\:mm")</td>
        <td>@item.PatientName</td>
        <td class="fw-bold">@($"{item.DeptCode}{item.QueueNumber:D3}")</td>
    </tr>
}

<!-- ✅ Extra row for buttons -->
<tr>
    <td colspan="5" class="text-end">
        <div class="btn-group gap-2">
            <button class="btn btn-success btn-sm" onclick="updateTopPatient('CallForConsultation')">Call</button>
            <button class="btn btn-info btn-sm" onclick="updateTopPatient('Done')">Done</button>
            <button class="btn btn-secondary btn-sm" onclick="updateTopPatient('MissedConsultation')">MissedConsultation</button>
        </div>
    </td>
</tr>