@model List<LMDH_QS.Models.Queue>

@if (Model != null && Model.Any())
{
    @foreach (var record in Model.Where(r => r.Status == "Done"))
    {
        <tr>
            <td>@record.VisitDate.ToString("MMM dd, yyyy")</td>
            <td>@record.Department</td>
            <td>@($"{record.DeptCode}{record.QueueNumber:D3}")</td>
            <td>@record.PatientName</td>
            <td>@record.Status</td>
            <td>
                <button class="btn btn-sm btn-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#viewDiagnosisModal"
                        data-id="@record.PatientIdentification"
                        data-visitdate="@record.VisitDate.ToString("yyyy-MM-dd")">
                    <i class="bi bi-eye"></i> View
                </button>
            </td>
        </tr>
    }
}
